:root{--bg-dark: #0f1115;--bg-panel: rgba(26, 29, 36, .95);--bg-input: #242832;--primary: #6366f1;--primary-hover: #4f46e5;--text-main: #ffffff;--text-muted: #9ca3af;--border: #2e323b;--radius: 16px;--radius-sm: 8px;--transition: all .2s cubic-bezier(.4, 0, .2, 1);--gradient-bg: radial-gradient(circle at top left, #1e2230 0%, #0f1115 100%)}*{box-sizing:border-box;margin:0;padding:0}html{background-color:#0f1115}body{font-family:Inter,PingFang SC,Microsoft YaHei,SimHei,sans-serif;background:var(--bg-dark);background-image:var(--gradient-bg);color:var(--text-main);line-height:1.5;height:100vh;overflow:hidden}#app{display:flex;flex-direction:column;height:100%;background:transparent}#sidebar-root{position:fixed;top:0;left:0;width:0;height:100vh;z-index:9999;overflow:visible}#sidebar-root>*{pointer-events:auto}.app-header{display:flex;align-items:center;justify-content:space-between;padding:1rem 2rem;background:var(--bg-panel);border-bottom:1px solid var(--border)}.app-header h1{font-size:1.25rem;font-weight:600;background:linear-gradient(to right,#fff,#a5b4fc);-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent}.mode-switch{display:flex;gap:.5rem;background:var(--bg-input);padding:.25rem;border-radius:var(--radius)}.nav-btn{background:transparent;border:none;color:var(--text-muted);padding:.5rem 1.5rem;border-radius:var(--radius-sm);cursor:pointer;font-weight:500;transition:var(--transition)}.nav-btn.active{background:var(--bg-panel);color:var(--text-main);box-shadow:0 1px 3px #0003}.main-content{flex:1;display:flex;flex-direction:column;overflow:hidden;padding:1.5rem;gap:1.5rem;max-width:1600px;margin:0 auto;width:100%}.workspace-container{display:flex;gap:1.5rem;flex:1;min-height:0}.left-panel{width:400px;background:var(--bg-panel);border-radius:var(--radius);border:1px solid var(--border);display:flex;flex-direction:column;overflow:hidden}#controls-container{padding:1.5rem;overflow-y:auto;display:flex;flex-direction:column;gap:1.5rem;height:100%}.control-group{display:flex;flex-direction:column;gap:.75rem}.control-group.hidden{display:none}.control-group label{font-size:.875rem;font-weight:600;color:#fff}.right-panel{flex:1;background:var(--bg-panel);border-radius:var(--radius);border:1px solid var(--border);overflow:hidden;display:flex;flex-direction:column}.preview-area{flex:1;display:flex;align-items:center;justify-content:center;background:radial-gradient(circle at center,#1f232b,#15181e);position:relative;overflow:hidden}.empty-state{display:flex;flex-direction:column;align-items:center;gap:1rem;color:var(--text-muted)}.empty-state .icon{font-size:3rem;opacity:.5}.history-section{height:180px;flex-shrink:0;display:flex;flex-direction:column;gap:.75rem}.history-section h3{font-size:1rem;font-weight:600;color:var(--text-main);text-align:center}.history-list{flex:1;display:flex;gap:1rem;overflow-x:auto;padding-bottom:.5rem;align-items:center;scrollbar-width:thin;scrollbar-color:var(--border) transparent}.history-list::-webkit-scrollbar{height:6px}.history-list::-webkit-scrollbar-thumb{background:var(--border);border-radius:3px}.history-item{height:100%;aspect-ratio:1;background:var(--bg-panel);border:1px solid var(--border);border-radius:var(--radius-sm);cursor:pointer;overflow:hidden;position:relative;transition:var(--transition);flex-shrink:0}.history-item:hover{border-color:var(--primary);transform:translateY(-2px)}.history-item img{width:100%;height:100%;-o-object-fit:cover;object-fit:cover}.history-empty{width:100%;text-align:center;color:var(--text-muted);font-size:.875rem;padding:2rem}textarea{background:var(--bg-input);border:1px solid var(--border);color:var(--text-main);padding:1rem;border-radius:var(--radius);resize:vertical;min-height:120px;font-family:inherit;transition:var(--transition)}textarea:focus{outline:none;border-color:var(--primary);box-shadow:0 0 0 2px #6366f133}.model-select{width:100%;background:var(--bg-input);border:1px solid var(--border);color:var(--text-main);padding:.75rem;border-radius:var(--radius-sm);font-family:inherit;cursor:pointer;outline:none;transition:var(--transition)}.model-select:focus{border-color:var(--primary)}.api-key-input{width:100%;background:var(--bg-input);border:1px solid var(--border);color:var(--text-main);padding:.75rem;border-radius:var(--radius-sm);font-family:inherit;outline:none;transition:var(--transition)}.api-key-input:focus{border-color:var(--primary)}.api-url-input{width:100%;background:var(--bg-input);border:1px solid var(--border);color:var(--text-main);padding:.75rem;border-radius:var(--radius-sm);font-family:inherit;outline:none;transition:var(--transition)}.api-url-input:focus{border-color:var(--primary)}.scenario-selector{display:flex;gap:.75rem;background:var(--bg-input);padding:.25rem;border-radius:var(--radius-sm);border:1px solid var(--border)}.scenario-btn{flex:1;background:transparent;border:1px solid transparent;color:var(--text-muted);padding:.5rem;border-radius:var(--radius-sm);cursor:pointer;font-size:.875rem;transition:var(--transition);text-align:center}.scenario-btn:hover{color:var(--text-main);background:#ffffff0d}.scenario-btn.active{background:var(--bg-panel);color:var(--text-main);border-color:var(--border);box-shadow:0 1px 2px #0003;font-weight:500}.ratio-grid{display:grid;grid-template-columns:repeat(5,1fr);gap:8px;margin-top:8px}.ratio-btn{display:flex;flex-direction:column;align-items:center;justify-content:center;background:var(--bg-input);border:1px solid var(--border);border-radius:8px;padding:8px 4px;cursor:pointer;transition:all .2s;height:100%;min-height:70px}.ratio-btn:hover{border-color:var(--text-muted)}.ratio-btn.active{background:#6366f126;border-color:var(--primary);color:var(--primary);box-shadow:0 0 0 1px var(--primary)}.ratio-preview{border:2px solid currentColor;border-radius:2px;margin-bottom:4px;background:var(--bg-input);border-color:var(--border)}.ratio-btn.active .ratio-preview{background:var(--primary);border-color:var(--primary)}.primary-btn{background:var(--primary);color:#fff;border:none;padding:1rem;border-radius:var(--radius);font-weight:600;cursor:pointer;transition:var(--transition);margin-top:auto}.primary-btn:hover{background:var(--primary-hover);transform:translateY(-1px)}.cancel-btn{background:#ef4444;color:#fff;border:none;padding:.75rem 1rem;border-radius:var(--radius);font-weight:600;cursor:pointer;transition:var(--transition);margin-top:.5rem;width:100%;display:flex;align-items:center;justify-content:center;gap:.5rem}.cancel-btn:hover{background:#dc2626;transform:translateY(-1px)}.cancel-btn:active{transform:translateY(0)}.cancel-btn.hidden{display:none}.upload-zone{background:var(--bg-input);border:2px dashed var(--border);border-radius:var(--radius);padding:2rem;text-align:center;cursor:pointer;transition:var(--transition);position:relative;min-height:160px;display:flex;align-items:center;justify-content:center;border-style:dashed;background:transparent}.upload-zone:hover{border-color:var(--primary);background:#6366f10d}.upload-content .icon{font-size:2rem;margin-bottom:.5rem;display:block}.upload-content p{font-size:.875rem;color:var(--text-muted)}.upload-content .sub-text{font-size:.75rem;opacity:.7}#mask-canvas{position:absolute;top:0;left:0;width:100%;height:100%;-o-object-fit:contain;object-fit:contain;display:none;cursor:crosshair;z-index:5;touch-action:none}.upload-zone.has-image .upload-content{display:none}.upload-zone.has-image{border-style:solid;background-color:#000}.hidden{display:none!important}.modal{position:fixed;z-index:1000;left:0;top:0;width:100%;height:100%;background-color:#000c;display:flex;align-items:center;justify-content:center;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}.modal-content{background-color:var(--bg-panel);border:1px solid var(--border);border-radius:var(--radius);width:90%;max-width:1200px;height:90%;display:flex;flex-direction:column;position:relative;overflow:hidden}.close-modal{position:absolute;top:1rem;right:1.5rem;color:var(--text-muted);font-size:2rem;font-weight:700;cursor:pointer;z-index:10;line-height:1}.close-modal:hover{color:var(--text-main)}.modal-body{display:flex;flex:1;overflow:hidden}.modal-image-container{flex:2;background:#000;display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.modal-image-container img{max-width:100%;max-height:100%;-o-object-fit:contain;object-fit:contain;transition:transform .1s ease-out;cursor:grab}.modal-image-container img:active{cursor:grabbing}.modal-details{flex:1;padding:2rem;background:var(--bg-panel);border-left:1px solid var(--border);overflow-y:auto;display:flex;flex-direction:column;gap:1.5rem;min-width:300px}.detail-group h4{color:var(--text-muted);font-size:.875rem;margin-bottom:.5rem;text-transform:uppercase;letter-spacing:.05em}.detail-group p{color:var(--text-main);font-size:.95rem;line-height:1.6;background:var(--bg-input);padding:1rem;border-radius:var(--radius-sm);white-space:pre-wrap}#modal-original-image{width:100%;border-radius:var(--radius-sm);border:1px solid var(--border)}.preview-area img{cursor:grab;transition:transform .1s ease-out;-webkit-user-drag:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.preview-area img:active{cursor:grabbing}.upload-gallery{display:flex;gap:8px;margin-top:12px;overflow-x:auto;padding-bottom:4px;scrollbar-width:thin;scrollbar-color:var(--border) transparent}.upload-gallery::-webkit-scrollbar{height:4px}.upload-gallery::-webkit-scrollbar-thumb{background:var(--border);border-radius:2px}.gallery-item{width:60px;height:60px;border-radius:var(--radius-sm);overflow:hidden;cursor:pointer;border:2px solid transparent;flex-shrink:0;background:var(--bg-input);transition:var(--transition);position:relative}.gallery-item:hover{border-color:var(--text-muted)}.gallery-item.active{border-color:var(--primary);box-shadow:0 0 0 1px var(--primary)}.gallery-item img{width:100%;height:100%;-o-object-fit:cover;object-fit:cover}.delete-btn{position:absolute;top:2px;right:2px;width:16px;height:16px;background:#0009;color:#fff;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:12px;line-height:1;cursor:pointer;opacity:0;transition:opacity .2s}.gallery-item:hover .delete-btn{opacity:1}.delete-btn:hover{background:#ef4444}.sub-scenario-wrapper{display:flex;flex-direction:column;gap:1rem;background:var(--bg-input);padding:1rem;border-radius:var(--radius-sm);border:1px solid var(--border);margin-top:.75rem}.scenario-group{display:flex;flex-direction:column;gap:.5rem}.group-label{font-size:.75rem;font-weight:700;color:var(--text-muted);text-transform:uppercase;letter-spacing:.05em;padding-left:.25rem;border-left:2px solid var(--primary)}.group-btns{display:grid;grid-template-columns:repeat(2,1fr);gap:.5rem}.sub-btn{padding:.4rem;font-size:.8rem}.modal-original-gallery{display:flex;gap:10px;flex-wrap:wrap;margin-top:10px}.modal-gallery-thumb{width:80px;height:80px;-o-object-fit:cover;object-fit:cover;border-radius:4px;border:1px solid var(--border);cursor:pointer;transition:transform .2s}.modal-gallery-thumb:hover{transform:scale(1.05);border-color:var(--primary)}.log-section{margin-top:1rem}.log-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:.75rem}.log-header h3{font-size:1rem;font-weight:600;color:var(--text-main)}.clear-log-btn{background:var(--bg-input);border:1px solid var(--border);color:var(--text-muted);padding:.4rem .8rem;border-radius:var(--radius-sm);cursor:pointer;font-size:.75rem;transition:var(--transition)}.clear-log-btn:hover{background:#ef4444;color:#fff;border-color:#ef4444}.log-list{display:flex;flex-direction:column;gap:.625rem;max-height:200px;overflow-y:auto;padding:.75rem;background:var(--bg-panel);border:1px solid var(--border);border-radius:var(--radius-sm)}.log-item{display:flex;gap:.75rem;padding:.625rem .875rem;border-radius:var(--radius-sm);font-size:.875rem;line-height:1.4;border-left:3px solid transparent;background:var(--bg-input);border:1px solid rgba(255,255,255,.05)}.log-item.success{background:#22c55e1a;border-left-color:#22c55e}.log-item.error{background:#ef44441a;border-left-color:#ef4444}.log-item.info{background:#3b82f61a;border-left-color:#3b82f6}.log-item.warning{background:#fb923c1a;border-left-color:#fb923c}.log-timestamp{color:var(--text-muted);font-size:.75rem;font-family:Courier New,monospace;flex-shrink:0;min-width:65px}.log-message{flex:1;color:var(--text-main);font-weight:500}.log-details{color:var(--text-muted);font-size:.75rem;margin-top:.25rem}.log-empty{text-align:center;color:var(--text-muted);font-size:.875rem;padding:2rem}/*! tailwindcss v4.1.18 | MIT License | https://tailwindcss.com */@layer properties{@supports ((-webkit-hyphens:none) and (not (margin-trim:inline))) or ((-moz-orient:inline) and (not (color:rgb(from red r g b)))){*,:before,:after,::backdrop{--tw-translate-x:0;--tw-translate-y:0;--tw-translate-z:0;--tw-rotate-x:initial;--tw-rotate-y:initial;--tw-rotate-z:initial;--tw-skew-x:initial;--tw-skew-y:initial;--tw-border-style:solid;--tw-shadow:0 0 #0000;--tw-shadow-color:initial;--tw-shadow-alpha:100%;--tw-inset-shadow:0 0 #0000;--tw-inset-shadow-color:initial;--tw-inset-shadow-alpha:100%;--tw-ring-color:initial;--tw-ring-shadow:0 0 #0000;--tw-inset-ring-color:initial;--tw-inset-ring-shadow:0 0 #0000;--tw-ring-inset:initial;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-offset-shadow:0 0 #0000;--tw-duration:initial;--tw-scale-x:1;--tw-scale-y:1;--tw-scale-z:1}}}.pointer-events-none{pointer-events:none}.visible{visibility:visible}.absolute{position:absolute}.fixed{position:fixed}.relative{position:relative}.static{position:static}.top-full{top:100%}.bottom-full{bottom:100%}.left-1\/2{left:50%}.z-10{z-index:10}.z-20{z-index:20}.z-50{z-index:50}.z-\[100\]{z-index:100}.container{width:100%}.block{display:block}.contents{display:contents}.flex{display:flex}.grid{display:grid}.hidden{display:none}.inline{display:inline}.table{display:table}.h-\[500px\]{height:500px}.h-full{height:100%}.w-full{width:100%}.max-w-\[85\%\]{max-width:85%}.max-w-full{max-width:100%}.flex-1{flex:1}.shrink-0{flex-shrink:0}.-translate-x-1\/2{--tw-translate-x: -50% ;translate:var(--tw-translate-x)var(--tw-translate-y)}.-translate-x-full{--tw-translate-x:-100%;translate:var(--tw-translate-x)var(--tw-translate-y)}.rotate-180{rotate:180deg}.transform{transform:var(--tw-rotate-x,)var(--tw-rotate-y,)var(--tw-rotate-z,)var(--tw-skew-x,)var(--tw-skew-y,)}.cursor-ew-resize{cursor:ew-resize}.cursor-help{cursor:help}.cursor-pointer{cursor:pointer}.resize{resize:both}.resize-none{resize:none}.flex-col{flex-direction:column}.flex-row-reverse{flex-direction:row-reverse}.flex-wrap{flex-wrap:wrap}.items-center{align-items:center}.items-end{align-items:flex-end}.items-start{align-items:flex-start}.justify-between{justify-content:space-between}.justify-center{justify-content:center}.justify-end{justify-content:flex-end}.justify-start{justify-content:flex-start}.truncate{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.overflow-hidden{overflow:hidden}.overflow-x-auto{overflow-x:auto}.overflow-y-auto{overflow-y:auto}.rounded-full{border-radius:3.40282e38px}.rounded-tl-none{border-top-left-radius:0}.rounded-tr-none{border-top-right-radius:0}.border{border-style:var(--tw-border-style);border-width:1px}.border-t{border-top-style:var(--tw-border-style);border-top-width:1px}.border-r{border-right-style:var(--tw-border-style);border-right-width:1px}.border-b{border-bottom-style:var(--tw-border-style);border-bottom-width:1px}.border-l-2{border-left-style:var(--tw-border-style);border-left-width:2px}.border-none{--tw-border-style:none;border-style:none}.bg-transparent{background-color:#0000}.object-contain{-o-object-fit:contain;object-fit:contain}.object-cover{-o-object-fit:cover;object-fit:cover}.text-center{text-align:center}.text-left{text-align:left}.text-\[5px\]{font-size:5px}.text-\[6px\]{font-size:6px}.text-\[7px\]{font-size:7px}.text-\[8px\]{font-size:8px}.text-\[9px\]{font-size:9px}.text-\[10px\]{font-size:10px}.text-\[11px\]{font-size:11px}.break-words{overflow-wrap:break-word}.whitespace-pre-wrap{white-space:pre-wrap}.lowercase{text-transform:lowercase}.uppercase{text-transform:uppercase}.italic{font-style:italic}.opacity-0{opacity:0}.opacity-50{opacity:.5}.ring-2{--tw-ring-shadow:var(--tw-ring-inset,)0 0 0 calc(2px + var(--tw-ring-offset-width))var(--tw-ring-color,currentcolor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.ring-offset-2{--tw-ring-offset-width:2px;--tw-ring-offset-shadow:var(--tw-ring-inset,)0 0 0 var(--tw-ring-offset-width)var(--tw-ring-offset-color)}.ring-offset-transparent{--tw-ring-offset-color:transparent}.transition-all{transition-property:all;transition-timing-function:var(--tw-ease,ease);transition-duration:var(--tw-duration,0s)}.transition-colors{transition-property:color,background-color,border-color,outline-color,text-decoration-color,fill,stroke,--tw-gradient-from,--tw-gradient-via,--tw-gradient-to;transition-timing-function:var(--tw-ease,ease);transition-duration:var(--tw-duration,0s)}.transition-opacity{transition-property:opacity;transition-timing-function:var(--tw-ease,ease);transition-duration:var(--tw-duration,0s)}.transition-transform{transition-property:transform,translate,scale,rotate;transition-timing-function:var(--tw-ease,ease);transition-duration:var(--tw-duration,0s)}.duration-200{--tw-duration:.2s;transition-duration:.2s}.duration-300{--tw-duration:.3s;transition-duration:.3s}.duration-500{--tw-duration:.5s;transition-duration:.5s}.outline-none{--tw-outline-style:none;outline-style:none}.select-none{-webkit-user-select:none;-moz-user-select:none;user-select:none}.select-text{-webkit-user-select:text;-moz-user-select:text;user-select:text}@media (hover:hover){.group-hover\:block:is(:where(.group):hover *){display:block}.group-hover\:opacity-100:is(:where(.group):hover *){opacity:1}.hover\:scale-105:hover{--tw-scale-x:105%;--tw-scale-y:105%;--tw-scale-z:105%;scale:var(--tw-scale-x)var(--tw-scale-y)}.hover\:opacity-90:hover{opacity:.9}}.active\:scale-95:active{--tw-scale-x:95%;--tw-scale-y:95%;--tw-scale-z:95%;scale:var(--tw-scale-x)var(--tw-scale-y)}@property --tw-translate-x{syntax:"*";inherits:false;initial-value:0}@property --tw-translate-y{syntax:"*";inherits:false;initial-value:0}@property --tw-translate-z{syntax:"*";inherits:false;initial-value:0}@property --tw-rotate-x{syntax:"*";inherits:false}@property --tw-rotate-y{syntax:"*";inherits:false}@property --tw-rotate-z{syntax:"*";inherits:false}@property --tw-skew-x{syntax:"*";inherits:false}@property --tw-skew-y{syntax:"*";inherits:false}@property --tw-border-style{syntax:"*";inherits:false;initial-value:solid}@property --tw-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-shadow-color{syntax:"*";inherits:false}@property --tw-shadow-alpha{syntax:"<percentage>";inherits:false;initial-value:100%}@property --tw-inset-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-inset-shadow-color{syntax:"*";inherits:false}@property --tw-inset-shadow-alpha{syntax:"<percentage>";inherits:false;initial-value:100%}@property --tw-ring-color{syntax:"*";inherits:false}@property --tw-ring-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-inset-ring-color{syntax:"*";inherits:false}@property --tw-inset-ring-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-ring-inset{syntax:"*";inherits:false}@property --tw-ring-offset-width{syntax:"<length>";inherits:false;initial-value:0}@property --tw-ring-offset-color{syntax:"*";inherits:false;initial-value:#fff}@property --tw-ring-offset-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-duration{syntax:"*";inherits:false}@property --tw-scale-x{syntax:"*";inherits:false;initial-value:1}@property --tw-scale-y{syntax:"*";inherits:false;initial-value:1}@property --tw-scale-z{syntax:"*";inherits:false;initial-value:1}
